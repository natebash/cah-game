<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Player Hand</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container player-view">
        <header>
            <div id="player-info">
                <h2 id="player-name">Player</h2>
                <p>Score: <span id="player-score">0</span></p>
            </div>
            <div id="game-code-box" style="display: none;">
                Game Code: <strong id="game-code-display">----</strong>
            </div>
            <div id="player-status" class="status-banner">
                Waiting to connect...
            </div>
        </header>
        
        <main>
            <div id="notification-banner" class="notification-banner" style="display: none;"></div>
            <details id="player-scoreboard" class="scoreboard-details">
                <summary>Scores</summary>
                <div class="scoreboard-content"></div>
            </details>

            <div id="endless-game-actions" style="display: none;">
                <button id="vote-to-end-btn">Vote to End Game</button>
                <span id="vote-status"></span>
            </div>

            <div id="lobby-view" style="display: none;">
                <h2>Players in Lobby:</h2>
                <ul id="player-list"></ul>
                <div id="start-game-container" style="display: none;">
                    <button id="start-game-btn">Start Game</button>
                </div>
            </div>

            <div id="game-view" style="display: none;">
                <div id="current-black-card-player" class="card black small">
                    <p id="black-card-text-player">Waiting for round to start...</p>
                </div>

                <div id="my-hand">
                    </div>

                <div id="submit-button-container" style="display: none;">
                    <button id="submit-cards-btn">Submit Cards</button>
                </div>

              <div id="czar-judging-area" style="display: none;">
                <h3>Choose the winning card:</h3>
                <div id="cards-to-judge">
                    </div>
                <div id="czar-confirm-container" style="display: none;">
                    <button id="czar-confirm-btn">Confirm Winner</button>
                </div>
            </div>
            </div>

            <div id="game-over-view-player" style="display: none;">
                <h2 id="game-over-reason">Game Over!</h2>
                <p>Winner: <strong id="game-over-winner"></strong></p>
                <p>You will be returned to the main menu shortly.</p>
            </div>

            <div id="vote-to-end-modal" class="modal-overlay" style="display: none;">
                <div class="modal-content">
                    <h2 id="vote-modal-title">Vote to End Game</h2>
                    <p id="vote-modal-text">A player has proposed ending the game. A unanimous 'Yes' vote is required.</p>
                    <div class="modal-actions">
                        <button id="vote-yes-btn" class="vote-btn yes">Vote Yes</button>
                        <button id="vote-no-btn" class="vote-btn no">Vote No</button>
                    </div>
                </div>
            </div>
            <div id="blank-card-modal" class="modal-overlay" style="display: none;">
                <div class="modal-content">
                    <h2>Write Your Own Card</h2>
                    <p>Enter the text for your custom white card. Be creative!</p>
                    <textarea id="blank-card-input" placeholder="e.g., A suitcase full of lizards." maxlength="150"></textarea>
                    <div id="char-count-container">
                        <span id="char-count">0 / 150</span>
                    </div>
                    <div class="modal-actions">
                        <button id="blank-card-cancel-btn" class="vote-btn no">Cancel</button>
                        <button id="blank-card-submit-btn" class="vote-btn yes" disabled>Submit Card</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="client.js"></script>
    <footer class="site-footer">
        <p>
            This is an unofficial fan project and is not affiliated with Cards Against Humanity, LLC. &middot; Card content is based on <a href="https://www.cardsagainsthumanity.com/" target="_blank" rel="noopener noreferrer">Cards Against Humanity</a> and is licensed under a 
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer" class="cc-license">
                Creative Commons BY-NC-SA 4.0
                <img alt="Creative Commons License" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" />
                <img alt="Attribution" src="https://mirrors.creativecommons.org/presskit/icons/by.svg" />
                <img alt="NonCommercial" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg" />
                <img alt="ShareAlike" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg" />
            </a>.
        </p>
    </footer>
</body>
</html>